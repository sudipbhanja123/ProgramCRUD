@page "/applicationform"
<h3>ApplicationForm</h3>
@using ProgramCRUD.Data
@using ProgramCRUD.Model
@inject ProgramService proService
@inject NavigationManager NavManager


<div class="card p-4">
    <h4 class="card-title">Application Form</h4>
    <hr />
    <EditForm Model="@pro">
        <div class="form-group row p-2">
            <div>
                <label for="formFileLg" class="form-label">Upload Cover Photo</label>
                <input class="form-control form-control-lg" id="formFileLg" type="file">
            </div>
        </div>
        <div class="form-group row p-2">
            <h3>Personal Information</h3>
            <div class="col-md-6">
                <input type="text" class="form-control" placeholder="FirstName" @bind-value="pro.Description" />
            </div>
            <div class="col-md-6">
                <input type="text" class="form-control" placeholder="Last Name" @bind-value="pro.Skills" />
            </div>
        </div>
        <div class="form-group row p-2">
            <div class="col-md-6">
                <input type="email" class="form-control" placeholder="Email" @bind-value="pro.Benifits" />
            </div>
            <label class="switch">Phone 
                <input type="checkbox">
                <span class="slider round"></span>
            </label>
        </div>
        <div class="form-group row p-2">
            <div class="col-md-6">
                <input type="text" class="form-control" placeholder="Type" @bind-value="pro.Type" />
            </div>
            <div class="col-md-6">
                <input type="text" class="form-control" placeholder="Start" @bind-value="pro.Start" />
            </div>
        </div>
        <div class="form-group row p-2">
            <div class="col-md-6">
                <input type="text" class="form-control" placeholder="Open" @bind-value="pro.Open" />
            </div>
            <div class="col-md-6">
                <input type="text" class="form-control" placeholder="Close" @bind-value="pro.Close" />
            </div>
        </div>
        <div class="form-group row p-2">
            <div class="col-md-6">
                <input type="number" class="form-control" placeholder="Duration" @bind-value="pro.Duration" />
            </div>
            <div class="col-md-6">
                <input type="text" class="form-control" placeholder="Location" @bind-value="pro.Location" />
            </div>
        </div>
        <div class="form-group row p-2">
            <div class="col-md-6">
                <input type="text" class="form-control" placeholder="Qualification" @bind-value="pro.Qualification" />
            </div>
            <div class="col-md-6">
                <input type="number" class="form-control" placeholder="MaxNumOfApplications" @bind-value="pro.MaxNumOfApplications" />
            </div>
        </div>
        <div class="form-group row p-2">
            <div class="text-center">
                <button class="btn btn-primary" @onclick="@(async () => await AddRecord())">Save & Continue</button>

            </div>
        </div>
    </EditForm>
</div>
@code{
    private ProgramModel pro = new ProgramModel();
    //[Parameter]
    //public List<ProgramModel>? programs { get; set; }
    //FetchData fetch = new FetchData();
    private async Task AddRecord()
    {
        await proService.AddProgram(pro);
        NavManager.NavigateTo("applicationform");
        //proloyees = await proService.getP();
    }

}